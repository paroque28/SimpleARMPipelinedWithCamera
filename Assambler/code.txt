//Average
//Pos memory where image begins
add r1, r1, #0 //mov 0 a R1
add r2, r2, #0  //mov 0 a R2

add r8, r8, #0  //mov 0 a R2
save4096:
add r9, r9, #4096  //mov 0 a R2
add r8, r8, #1  //mov 0 a R2
sub r7, r8, #18
beq save4096
add r10, r9, #3072  //mov 0 a R2

//Loop
loop:
// Load 4byte image
ldr r3, r1, r2
avg r4, r3
str r4, r1, r2
sub r11 , r2, r10
beq histograma 
add r2, r2, #1
b loop

histograma:

ADD R6 , R0, #3

nop
nop
nop
ADD R4 , R0, #7
nop
nop
nop

ADD R1, R8, R6
nop
nop
